# –û—Å—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, —è–∫–∏–π –∫–µ—à—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—ó, —â–æ–± –ø—Ä–∏—Å–∫–æ—Ä–∏—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ñ –≤–∏–∫–ª–∏–∫–∏:

def cache(func):
    cached_results = {}  # –°–ª–æ–≤–Ω–∏–∫ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

    def wrapper(*args):
        if args in cached_results:  # –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —î —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É –∫–µ—à—ñ
            print(f"üîÑ –û—Ç—Ä–∏–º—É—î–º–æ –∫–µ—à–æ–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è {args}")
            return cached_results[args]
        
        print(f"‚ö° –û–±—á–∏—Å–ª—é—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è {args}")
        result = func(*args)  # –í–∏–∫–ª–∏–∫–∞—î–º–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é
        cached_results[args] = result  # –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É –∫–µ—à
        return result
    
    return wrapper

@cache
def slow_function(x):
    print(f"–í–∏–∫–æ–Ω—É—î—Ç—å—Å—è –≤–∞–∂–∫–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –¥–ª—è {x}...")
    return x ** 2

# –¢–µ—Å—Ç—É—î–º–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
print(slow_function(5))  # –û–±—á–∏—Å–ª—é—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç
print(slow_function(10))  # –û–±—á–∏—Å–ª—é—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç
print(slow_function(5))  # –ü–æ–≤–µ—Ä—Ç–∞—î –∫–µ—à–æ–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
# üìå –í–∏–≤—ñ–¥:

# ‚ö° –û–±—á–∏—Å–ª—é—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è (5,)
# –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è –≤–∞–∂–∫–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –¥–ª—è 5...
# 25
# ‚ö° –û–±—á–∏—Å–ª—é—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è (10,)
# –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è –≤–∞–∂–∫–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –¥–ª—è 10...
# 100
# üîÑ –û—Ç—Ä–∏–º—É—î–º–æ –∫–µ—à–æ–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è (5,)
# 25
# üîç –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?
# –ú–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ —Å–ª–æ–≤–Ω–∏–∫ cached_results, —è–∫–∏–π –∑–±–µ—Ä—ñ–≥–∞—î –≤–∂–µ –æ–±—á–∏—Å–ª–µ–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è.
# –ö–æ–ª–∏ —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∑ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ args, —Å–ø–æ—á–∞—Ç–∫—É –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —î —Ç–∞–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É –∫–µ—à—ñ:
# ‚úÖ –Ø–∫—â–æ —î ‚Äì –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –∫–µ—à–æ–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
# ‚ùå –Ø–∫—â–æ –Ω–µ–º–∞—î ‚Äì –≤–∏–∫–æ–Ω—É—î–º–æ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è, –∑–±–µ—Ä—ñ–≥–∞—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É –∫–µ—à —ñ –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –π–æ–≥–æ.
# –Ø–∫—â–æ —Ñ—É–Ω–∫—Ü—ñ—é –≤–∏–∫–ª–∏–∫–∞—é—Ç—å —ñ–∑ —Ç–∏–º–∏ –∂ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –≤–¥—Ä—É–≥–µ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ—Ä–µ—Ç—å—Å—è –∑ –∫–µ—à—É –±–µ–∑ –∑–∞–π–≤–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å.
# ‚úÖ –¢–µ–ø–µ—Ä —Ü—è —Ñ—É–Ω–∫—Ü—ñ—è –ø—Ä–∞—Ü—é—î –Ω–∞–±–∞–≥–∞—Ç–æ —à–≤–∏–¥—à–µ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö –≤–∏–∫–ª–∏–∫–∞—Ö!